<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>InterWorks - Tableau Software &#38; Business Intelligence Consulting &#187; Table Calculation</title>
	<atom:link href="http://interworks.co.uk/tag/table-calculation/feed/" rel="self" type="application/rss+xml" />
	<link>http://interworks.co.uk/</link>
	<description>InterWorks - Tableau Software &#38; Business Intelligence Consulting</description>
	<lastBuildDate>Fri, 26 Jun 2015 08:09:24 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	
	<item>
		<title>I say burrito &#8211; you say ..</title>
		<link>http://interworks.co.uk/blog/pareto-charts-part-5-historical-travesty/</link>
		<comments>http://interworks.co.uk/blog/pareto-charts-part-5-historical-travesty/#comments</comments>
		<pubDate>Tue, 01 Apr 2014 13:59:20 +0000</pubDate>
		<dc:creator><![CDATA[Mel Stephenson]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[pareto]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=10268</guid>
		<description><![CDATA[<p>So many times in history one person&#8217;s valuable contribution ends up being eclipsed by another for no good or fair reason. Think of Galileo, who was not (and never claimed to be) the inventor of the refracting telescope &#8211; it was invented by Dutch spectacle makers. Isaac Newton is usually held out as the father [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/pareto-charts-part-5-historical-travesty/">I say burrito &#8211; you say ..</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fpareto-charts-part-5-historical-travesty%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>So many times in history one person&#8217;s valuable contribution ends up being eclipsed by another for no good or fair reason.</p>
<p>Think of <a href="http://en.wikipedia.org/wiki/Galileo_Galilei" target="_blank">Galileo</a>, who was not (and never claimed to be) the inventor of the <a href="http://en.wikipedia.org/wiki/Refracting_telescope" target="_blank">refracting telescope</a> &#8211; it was invented by Dutch spectacle makers. <a href="http://en.wikipedia.org/wiki/Sir_Isaac_Newton" target="_blank">Isaac Newton</a> is usually held out as the father of calculus but <a href="http://en.wikipedia.org/wiki/Gottfried_Leibniz" target="_blank">Leibniz</a> had a similar method developed at much the same <a href="http://en.wikipedia.org/wiki/Leibniz%E2%80%93Newton_calculus_controversy" target="_blank">time</a>. <a href="http://en.wikipedia.org/wiki/Charles_Darwin" target="_blank">Charles Darwin</a>&#8216;s &#8216;<a href="http://en.wikipedia.org/wiki/On_the_Origin_of_Species" target="_blank">On The Origin of Species</a>&#8216; lays the basis for Darwin&#8217;s position as the discoverer of evolution but of course <a href="http://en.wikipedia.org/wiki/Alfred_Russel_Wallace" target="_blank">Alfred Wallace</a> independently conceived of the same theory and was jointly published with Darwin&#8217;s writings in 1858. Yet, like so many others, this contribution seems to have been eclipsed by that of Darwin over the years.</p>
<p>Even in the world of data visualisation such errors abound. Some believe that <a href="http://en.wikipedia.org/wiki/Florence_nightingale" target="_blank">Florence Nightingale</a> developed the <a href="http://en.wikipedia.org/wiki/Pie_chart" target="_blank">pie chart</a> when most know that it was first developed by <a href="http://en.wikipedia.org/wiki/William_Playfair">William Playfair</a> in his Statistical Breviary of 1801.</p>
<p><img class="aligncenter size-full wp-image-10274" src="http://interworks.co.uk/wp-content/uploads/2014/04/burrito-on-wikipedia.png" alt="burrito on wikipedia" width="600" height="587" /></p>
<p>I feel I must alert you passionate visualisers of data to another travesty of chart type under our very noses. Recent research has led me to uncover the <strong><a href="http://trusted.interworks.co.uk/burrito/" target="_blank">Wikipedia</a></strong> page above lying dusty and unread which explains the true origin of what we have come to call the pareto chart. Like <a href="http://en.wikipedia.org/wiki/Ada_Lovelace" target="_blank">Ada Lovelace</a>&#8216;s contribution to Babbage&#8217;s <a href="http://en.wikipedia.org/wiki/Ada_Lovelace" target="_blank">Analytical Engine</a> we need the community to rise up and right this wrong and ensure that this contribution to a fabulous chart type is not overshadowed by the mere coincidence of some <a href="http://en.wikipedia.org/wiki/Vilfredo_Pareto" target="_blank">Italian mathematician</a> happening to have a similar sounding name &#8211; it&#8217;s the <a href="http://en.wikipedia.org/wiki/Fibonacci_series" target="_blank">Fibonacci series</a> all over again.</p>
<p>Tweet. Shout. Lobby Wikipedia. Tut loudly within ear shot of two or more other people. Write to your local government data visualisation representative. Tut again if you have to. Go without sugar in your tea to show solidarity. Whatever it takes to get this travesty addressed.</p>
<p>Use this hashtag #ConsuelaCatalinaAlejandraCortezdeSantiagodeCompostelaSemi-freddo(thethird)inventedtheburritochart or #isayburrito</p>
<p>Ay Thank yew &#8211; collapses exhausted</p>
<p style="text-align: center;"><img class="aligncenter  wp-image-10280" src="http://interworks.co.uk/wp-content/uploads/2014/04/burrito-tat-300x210.jpg" alt="burrito-tat" width="600" height="420" /></p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/pareto-charts-part-5-historical-travesty/">I say burrito &#8211; you say ..</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fpareto-charts-part-5-historical-travesty%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/pareto-charts-part-5-historical-travesty/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Finally, I can &#8216;do things&#8217; with my Tableau Trendline</title>
		<link>http://interworks.co.uk/blog/linear-regression-trend-lines/</link>
		<comments>http://interworks.co.uk/blog/linear-regression-trend-lines/#comments</comments>
		<pubDate>Thu, 06 Mar 2014 15:32:34 +0000</pubDate>
		<dc:creator><![CDATA[Aus]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Dual Axis]]></category>
		<category><![CDATA[Parameters]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=10093</guid>
		<description><![CDATA[<p>Have you ever wanted to know&#8230; “How far above the trend is that?” or “If I have a new client, what can I expect based on the current trend?” I have. InterWorks has clients who want to know and it crops up in many of my Tableau training classes.  I finally had some time to [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/linear-regression-trend-lines/">Finally, I can &#8216;do things&#8217; with my Tableau Trendline</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Flinear-regression-trend-lines%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p><strong>Have you ever wanted to know&#8230;</strong></p>
<p><strong>“How far above the trend is that?”</strong></p>
<p>or</p>
<p><strong>“If I have a new client, what can I expect based on the current trend?”</strong></p>
<p>I have. InterWorks has clients who want to know and it crops up in many of my Tableau training classes.  I finally had some time to figure it out and thought I would share it so you too can do &#8216;What If&#8217; analysis based on the trend, or show how far above or below the trend a data point is (like in the view below).  It doesn&#8217;t look much but it hasn&#8217;t been possible before, it&#8217;s tough but <strong>REALLY</strong> useful.  Ready?</p>
<p><script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 695px;'><noscript><a href='#'><img alt=' ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;Application-DifferencetoTrend&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='695' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='site_root' value='' /><param name='name' value='TrendLine&#47;Application-DifferencetoTrend' /><param name='tabs' value='yes' /><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;Application-DifferencetoTrend&#47;1.png' /><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/TrendLine/Application-DifferencetoTrend' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>&nbsp;</p>
<p><span style="line-height: 1.5em;">Tableau makes trend lines really easy to add (that&#8217;s the grey dotted line above).  It’s just a right click away. Most of the time simply visualising the trend line is the end goal so job done.  But if you want to &#8216;use&#8217; the trend line, interact with it and get real answers out you&#8217;re pretty stuck.  Hovering your mouse over the correct bit of the line and getting a confusing P value is not exactly useful, user friendly or slick. But there is a solution&#8230;</span></p>
<p>&nbsp;</p>
<p>OK this can get a little bit mathematical so I’ll keep it as light as I can.</p>
<p><strong>Step 1 – The Nasty Bit &#8211; Calculate the trend line in Tableau</strong></p>
<p>A linear progression (linear trend line) is based on the calculation:</p>
<p>y = αx + β            (Hover your mouse over the trend line above and you&#8217;ll see Tableau doing this calculation)</p>
<p>Where        α = (n∑(xy) -∑x ∑y) / (n∑x^2 -(∑x)^2 )        and              β = (∑y-α∑x) / n</p>
<p>&nbsp;</p>
<p><strong>Sorry about that bit.</strong> An example of this calculation is in the workbook but below is a brief explanation of how the annotation above can be written in Tableau calculated fields.</p>
<p>Generally speaking when you create a scatter plot in Tableau you are plotting SUM(X) against SUM(Y) rather than x against y. Just look at the Columns and Rows shelves to see this. So if we start to break the formula down then everywhere you see an x you are going to be using SUM(X) and y as SUM(Y). Hopefully you are with me so far.</p>
<p>The next step is to get the ∑x part which means the sum of x. This would be SUM( SUM(X) ) but this will throw up an error so for Tableau it can be written as WINDOW_SUM( SUM(X) ). This does bring us into table calc territory I’m afraid so later on we are going to have to consider what the ‘compute using’ is going to be or in other words what is the WINDOW that we are summing.</p>
<p>So parts like ∑x ∑y would be calculated in Tableau with</p>
<p>WINDOW_SUM( SUM(X) ) * WINDOW_SUM( SUM(Y) )</p>
<p>The other piece to the puzzle is what to use for the n in this equation. n stands for the number of data points which in Tableau becomes the calculated field SIZE(). So n∑(xy) becomes</p>
<p>SIZE() * WINDOW_SUM( SUM(X) * SUM(Y) )</p>
<p>Easy eh!!! I did say this is the nasty bit.</p>
<p>The way I have gone about this is by using a different calculation for each of the little elements of this equation.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/03/CalculatedField.png"><img class="alignnone size-medium wp-image-10095" src="http://interworks.co.uk/wp-content/uploads/2014/03/CalculatedField-300x113.png" alt="CalculatedField" width="300" height="113" /></a></p>
<p>The only other thing to do which may be new to you is to set the Default Table Calculation. In my case to Country/Region but the important thing is to keep this consistent in all the calculations.  If you are going to be plotting customers then put in customers, if plotting products then compute using products etc. I have a data point for each Country/Region so that&#8217;s what I&#8217;m using. This is far more solid than &#8216;Compute using Table Across&#8217;.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/03/ComputeUsing.png"><img class="alignnone size-medium wp-image-10096" src="http://interworks.co.uk/wp-content/uploads/2014/03/ComputeUsing-300x213.png" alt="ComputeUsing" width="300" height="213" /></a></p>
<p>This is a really good habit to get into when writing table calculations in Tableau.</p>
<p>And here’s how it looks &#8211; Red line is my bit, dotted grey is Tableau&#8217;s. Snap.</p>
<p><script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 695px;'><noscript><a href='#'><img alt=' ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;CalculatedTrendLine&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='695' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='site_root' value='' /><param name='name' value='TrendLine&#47;CalculatedTrendLine' /><param name='tabs' value='yes' /><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;CalculatedTrendLine&#47;1.png' /><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/TrendLine/CalculatedTrendLine' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>This has been created with a Dual axis chart of SUM(y) and Trend Line on the rows shelf. The only real purpose of this graph is to show that the figures match Tableau’s. No practical use as you could just turn on Tableau’s own trend line.</p>
<p><strong>Step 2 – Practical applications</strong></p>
<p>Answering the question <strong>“how far above the trend is that”</strong></p>
<p>Now we’ve done the hard bit, calculating the difference is a pretty simple calculation of SUM(Y) – [Trend Line].</p>
<p>I’ve plotted this again as a dual axis using a Gantt bar to get the red line.  See chart at the top of this blog.</p>
<p>&nbsp;</p>
<p>Answering the question <strong>“If I have a new client, what can I expect based on the current trend?”</strong></p>
<p>If you&#8217;ve got this far then well done as this is the most useful bit!</p>
<p>To get a single figure for this question is not too hard, unfortunately visualising it is a bit tougher. The calculation works by using a parameter to allow the user to enter their own x value. Then we use a version of the trend line calculation to output the value for the y. Tableau doesn’t make it easy to add an imaginary data point to a viz so this view is a bit awkward to build. However, play around with the slider below and you&#8217;ll see that the square moves up and down the trend line.</p>
<p><script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 695px;'><noscript><a href='#'><img alt=' ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;Application-WhatIf&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='695' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='site_root' value='' /><param name='name' value='TrendLine&#47;Application-WhatIf' /><param name='tabs' value='yes' /><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Tr&#47;TrendLine&#47;Application-WhatIf&#47;1.png' /><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/TrendLine/Application-WhatIf' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>And&#8230;.relax! Feel free to reach out to me if you need a fuller explanation on any of these elements.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/linear-regression-trend-lines/">Finally, I can &#8216;do things&#8217; with my Tableau Trendline</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Flinear-regression-trend-lines%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/linear-regression-trend-lines/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
		</item>
		<item>
		<title>Marimekko Part 5: Totals</title>
		<link>http://interworks.co.uk/blog/marimekko-part-5-totals/</link>
		<comments>http://interworks.co.uk/blog/marimekko-part-5-totals/#comments</comments>
		<pubDate>Mon, 06 Jan 2014 13:55:08 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Business Intelligence]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=9608</guid>
		<description><![CDATA[<p>In Part 4 of the blog we learned how to make a basic Mekko Chart. In this part of the blog we are going to add in some totals, thankfully we can use some of our existing calculations to do this. The first is the Y Dimension (Colours) total. We are going to use quick [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-5-totals/">Marimekko Part 5: Totals</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-5-totals%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>In <a href="http://interworks.co.uk/random/marimekko-part-4-basic-marimekko/">Part 4</a> of the blog we learned how to make a basic Mekko Chart.  In this part of the blog we are going to add in some totals, thankfully we can use some of our existing calculations to do this. The first is the Y Dimension (Colours) total. We are going to use quick table calcs to generate the percentage values. Don&#8217;t forget to hide the axis when you are done to maximise the useful space on the dashboard.</p>
<p>Rows: SUM(Sales) > Quick Table Calculation > Percent of Total<br />
Color: [Y Dimension] (sorted Ascending by sum of [Sales])<br />
Text: As Rows</p>
<p>The next worksheet is going to be the totals bar at the bottom which uses many of the same fields. Please note there are 2 text fields used in this worksheet using Tableau&#8217;s ability to stack labels in the same cell.<br />
Columns: SUM(Sales) > Quick Table Calculation > Percent of Total<br />
Text: [X Dimension] (sorted Ascending by sum of [Sales])<br />
Text: As Rows</p>
<p>Once that you have the totals in place all that remains is to arrange them on the dashboard.<br />
<script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 669px;'><noscript><a href='#'><img alt='Marimekko Chart ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;XK&#47;XKYSHFSJ4&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='669' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='path' value='shared&#47;XKYSHFSJ4' / ><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;XK&#47;XKYSHFSJ4&#47;1.png' / ><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/shared/XKYSHFSJ4' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>The optional extra with this chart is to get around the data densification issues. This is only a problem with the X Axis as the Y Axis stacks naturally anyway. The following calculations use the Maximum X Axis running along the Y Dimension only.</p>
<p>[X Axis Complete]<br />
WINDOW_MAX([X Axis])<br />
DTC > Compute Using: Y Dimension</p>
<p>[Label X Complete]<br />
IF MIN([Point])=3 THEN [X Axis Complete] &#8211; [X%]/2 END</p>
<p>To use these new calculations simply replace the [X Axis] and [Label X] fields from the previous blog (<a href="http://interworks.co.uk/random/marimekko-part-4-basic-marimekko/">Part 4</a>).</p>
<p>Another optional extra is to ensure that the charts disappear when the same parameter is selected on both axis. Simply put the following field in to the filter box and filter on False only.<br />
[Are They The Same?]<br />
[Parameters].[Y Dimension]=[Parameters].[X Dimension]</p>
<p>I have expanded on this by telling the audience that they need to select some different options, I&#8217;m sure you can find innovative ways to do this.</p>
<p>I leave you to apply the chart to your own data, play with the formatting and enjoy this flexible chart type.  I would like to thank Joe Mako for his work on Marimekko in Tableau and for his subsequent interest in my blog.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-5-totals/">Marimekko Part 5: Totals</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-5-totals%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-part-5-totals/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Marimekko Part 4: Basic Marimekko</title>
		<link>http://interworks.co.uk/blog/marimekko-part-4-basic-marimekko/</link>
		<comments>http://interworks.co.uk/blog/marimekko-part-4-basic-marimekko/#comments</comments>
		<pubDate>Mon, 06 Jan 2014 13:54:56 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=9592</guid>
		<description><![CDATA[<p>In Part 3 we created all the calculated fields necessary for our basic Mekko. Because we have preset the DTC (Direction of Table Calculation) for each calculated field we can simply drag them on to the view to create the mekko and be confident that the values will match our table. Mark Type: Polygon Color: [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-4-basic-marimekko/">Marimekko Part 4: Basic Marimekko</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-4-basic-marimekko%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>In <a href="http://interworks.co.uk/random/marimekko-part-3-table-calculations/">Part 3</a> we created all the calculated fields necessary for our basic Mekko.  Because we have preset the DTC (Direction of Table Calculation) for each calculated field we can simply drag them on to the view to create the mekko and be confident that the values will match our table.<br />
Mark Type: Polygon<br />
Color: [Y Dimension] (sorted ascending along sum of sales to align the ledgend)<br />
Path: [Point]<br />
Detail: [X Dimension] (sorted descending along sum of sales to show the biggest first)<br />
Columns: [X Axis]<br />
Rows: [Y Axis]</p>
<p><script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 669px;'><noscript><a href='#'><img alt='Basic Marimekko ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Me&#47;MekkoDemo&#47;BasicMarimekko&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='669' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='site_root' value='' /><param name='name' value='MekkoDemo&#47;BasicMarimekko' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Me&#47;MekkoDemo&#47;BasicMarimekko&#47;1.png' / ><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/MekkoDemo/BasicMarimekko' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>The figures / labels on the Mekko are the next step. We are going to have to create another 3 calculated fields to get them in the correct position. </p>
<p>[Label X]<br />
IF ATTR([Point])=3 THEN [X Axis] &#8211; [X%]/2 END<br />
This field creates another cartesian point between points 2 &#038; 3.</p>
<p>[Text]<br />
&#8216;<br />
&#8216;+<br />
LEFT(STR(ROUND([% of Y within X],3)*100),4) + &#8216;%&#8217;<br />
This field ensures that the label displays below the line for each element.</p>
<p>[Text (Hidden)]<br />
IF [X%] > 0.05 THEN [Text] END<br />
This is an optional field depending on your data which hides labels where space is limited.</p>
<p>To display the labels in the same view we are going to make use of Dual Axis and then synchronize and hide the second axis. For the 2nd Axis we should have the following settings:<br />
Columns: add Label X to the right of the existing X Axis<br />
Mark Type: Text<br />
Text: [Text] or [Text (Hidden)]<br />
Detail: [Y Dimension], [X Dimension], [Point], [% of Y within X]</p>
<p>This version of the Marimekko chart requires full data densification (i.e. you need to have a row of data for each combination of X Dimension &#038; Y Dimension). If you are missing a row of data then the running calculations will not compute correctly and will not add up to 100%. Try Selecting Y Dimension > Department and X Dimension > Container to see the issue in the viz above. </p>
<p>We will solve this issue in <a href="http://interworks.co.uk/random/marimekko-part-5-totals/">Part 5</a> of the blog and add some totals.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-4-basic-marimekko/">Marimekko Part 4: Basic Marimekko</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-4-basic-marimekko%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-part-4-basic-marimekko/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Marimekko Part 3: Table calculations</title>
		<link>http://interworks.co.uk/blog/marimekko-part-3-table-calculations/</link>
		<comments>http://interworks.co.uk/blog/marimekko-part-3-table-calculations/#comments</comments>
		<pubDate>Mon, 06 Jan 2014 13:46:09 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Business Intelligence]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=9541</guid>
		<description><![CDATA[<p>In Part 2 we simulated a Marimekko using stacked bars but since the boundary for each element / polygon of a Marimekko in Tableau is made up from 4 Cartesian Coordinates we are going to use scales of 0 &#8211; 100 % for both X and Y axis and plot each corner of the polygon [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-3-table-calculations/">Marimekko Part 3: Table calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-3-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>In <a href="http://interworks.co.uk/random/marimekko-part-2-parameters-table-calculations/">Part 2</a> we simulated a Marimekko using stacked bars but since the boundary for each element / polygon of a Marimekko in Tableau is made up from 4 Cartesian Coordinates we are going to use scales of 0 &#8211; 100 % for both X and Y axis and plot each corner of the polygon accordingly. This means that we will need a to calculate different values for various Points (1-4) for any given X or Y Dimension. We can use logical IF and CASE statements in our calculated fields to achieve this. Please note that [Point] should be dragged to Dimensions in the data window.</p>
<p>[X Axis]:<br />
IF ATTR([Point]) = 3<br />
THEN PREVIOUS_VALUE(0) + [X%]<br />
ELSE PREVIOUS_VALUE(0)<br />
END<br />
DTC &gt; Compute Using: Advanced &gt; Addressing: X Dimension, Point; Sort: Automatic</p>
<p>[Y Axis]<br />
ZN(PREVIOUS_VALUE(0)+<br />
CASE ATTR([Point])<br />
WHEN 1 THEN ZN(LOOKUP([% of Y within X],-1))<br />
WHEN 2 THEN [% of Y within X]<br />
WHEN 3 THEN 0<br />
WHEN 4 THEN [% of Y within X]*-1<br />
END)<br />
DTC &gt; Compute Using: Advanced &gt; Addressing: Y Dimension, Point; Sort: Sum of Sales Decending.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.14.02.png"><img class="alignleft size-medium wp-image-9496" alt="Screen Shot 2014-01-03 at 14.14.02" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.14.02-300x298.png" width="250" height="230" /></a>    <a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-06-at-09.29.07.png"><img src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-06-at-09.29.07-300x221.png" alt="Screen Shot 2014-01-06 at 09.29.07" width="325" height="221" class="alignnone size-medium wp-image-9583" /></a></p>
<p>When dealing with complicated table calculations it is best to start with a table of data, that way you can get a feel for what the calculations are really doing and make sure there are no mistakes before you create your viz. In the Crosstab above I have put [X-Dimension] in to columns, [Y Dimension] and [Point] in to Rows. I then drag [X Axis] in to the workspace followed by [Y Axis] to make use of measure names / measure values. Lastly I sorted the dimensions to make sure that they appeared in the same order as my table calculations.</p>
<p>In the X Axis calculation above we are putting the previous value in for points 1 and 2 (or Zero if there is no previous value) we are then incrementing the value for point 3, it is behaving as a running sum for each Y Dimension along the X Dimension but only incrementing at point 3 (this means that point 4 will be the same as point 3 for each X Dimension. The value of the increment is calculated using [X%] as described earlier in the blog series.</p>
<p>The Y Axis calculation is a little more complicated as the values are not common to each Y Dimension but run along the Y Dimension (and Point).  It restarts for each X Dimension calculating the result from the previous value along the Y Dimension and Point.</p>
<p>If you understood that on your first read then you are doing very well. The table above illustrates how the results should look and may be easier to digest.</p>
<p>In <a href="http://interworks.co.uk/random/marimekko-part-4-basic-marimekko/">Part 4</a> we will be putting these calculated fields in to a Mekko.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-3-table-calculations/">Marimekko Part 3: Table calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-3-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-part-3-table-calculations/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Marimekko Part 2: Parameters and Table Calculations</title>
		<link>http://interworks.co.uk/blog/marimekko-part-2-parameters-table-calculations/</link>
		<comments>http://interworks.co.uk/blog/marimekko-part-2-parameters-table-calculations/#comments</comments>
		<pubDate>Mon, 06 Jan 2014 13:41:30 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Business Intelligence]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=9527</guid>
		<description><![CDATA[<p>In Part 1 we learned how to use custom SQL to shape our data ready for use later on in polygons. In this part we will use parameters to allow dashboard viewers to exchange dimensions. This methodology can be applied to any chart type which is sliced by a dimension and is a great alternative [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-2-parameters-table-calculations/">Marimekko Part 2: Parameters and Table Calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-2-parameters-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>In <a href="http://interworks.co.uk/random/marimekko-part-1-polygons-paths-custom-sql/">Part 1</a> we learned how to use custom SQL to shape our data ready for use later on in polygons. In this part we will use parameters to allow dashboard viewers to exchange dimensions. This methodology can be applied to any chart type which is sliced by a dimension and is a great alternative to replicating many similar dashboards.</p>
<p>Although Tableau doesn&#8217;t have a Marimekko built in, a great adaptation is a Variable width bar chart, this will enable us to set up the parameters and to start creating some of the table calculations ready for our Mekko later. Much like a Marimekko, the variable width bar chart represents the % of total for each X Dimension as the width of the bar; it then shows the % of the Y dimension within each X dimension to give an impression of the overall % of any one element.<br />
<script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 669px;'><noscript><a href='#'><img alt='Variable Bar ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Me&#47;MekkoDemo&#47;VariableBar&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='669' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='site_root' value='' /><param name='name' value='MekkoDemo&#47;VariableBar' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;Me&#47;MekkoDemo&#47;VariableBar&#47;1.png' / ><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/MekkoDemo/VariableBar' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>A parameter only works in conjunction with something else (in this case a calculated field) We shall therefore create 2 parameters called &#8220;X Dimension&#8221; and &#8220;Y Dimension&#8221; and 2 calculated fields also called [X Dimension] and [Y Dimension]. Each parameter will refer to the names of the Dimensions to be selected between.<br />
<a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-15.57.12.png"><img class="aligncenter size-medium wp-image-9530" alt="Screen Shot 2014-01-03 at 15.57.12" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-15.57.12-300x251.png" width="300" height="251" /></a></p>
<p>Each calculated field will refer to the corresponding parameter.<br />
<a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-15.58.11.png"><img class="alignnone size-large wp-image-9534" alt="Screen Shot 2014-01-03 at 15.58.11" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-15.58.11-1024x223.png" width="904" height="196" /></a></p>
<p>We will also create 2 calculated fields for the width of the bars [X%] and the percentage share within each bar [% of Y within X]. The 2 calculated fields are table calculations rather than standard calculated fields. The important thing about these table-calculated fields is that they run in a certain direction; this can be pre-defined in the blue &#8216;Define Table Calculation&#8217; text (DTC) which appears in the top right of the calculated field window. Although Tableau will default to the appropriate dimensions for us we are going to define these now for ease of use later.</p>
<p>[% of Y within X] = SUM([Sales])/TOTAL(SUM([Sales]))<br />
DTC &gt; Compute Using: Advanced &gt; Addressing: Y Dimension, Sort: Sales Ascending</p>
<p>[X%] = [Total of Y]/[Total Overall]<br />
Where:<br />
[Total of Y] = TOTAL(SUM([Sales]))<br />
DTC &gt; Compute Using: Y Dimension<br />
&amp;:<br />
[Total Overall] = TOTAL(SUM([Sales]))<br />
DTC &gt; Compute Using: Advanced &gt; Addressing: X Dimension,Y Dimension, Sort: Automatic</p>
<p>Although the last two calculations are identical, the direction of table calculation yields a very different result. This difference means that when we divide one by the other we get the percentage of each X Dimension compared to the Grand Total.</p>
<p>To complete this viz Add the Calculated fields as follows:<br />
Columns: X Dimension<br />
Rows: % of Y within X<br />
Color: Y Dimension<br />
Size X%<br />
Don&#8217;t forget to &#8216;Show Parameter Control&#8217; to play around with your dimensions on the fly.</p>
<p>In <a href="http://interworks.co.uk/random/marimekko-part-3-table-calculations/">Part 3</a> we will delve a little deeper in to table calculations as we begin to make our real Mekko using our progress so far.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-2-parameters-table-calculations/">Marimekko Part 2: Parameters and Table Calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-2-parameters-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-part-2-parameters-table-calculations/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Marimekko Part 1: Polygons, Paths and Custom SQL</title>
		<link>http://interworks.co.uk/blog/marimekko-part-1-polygons-paths-custom-sql/</link>
		<comments>http://interworks.co.uk/blog/marimekko-part-1-polygons-paths-custom-sql/#comments</comments>
		<pubDate>Mon, 06 Jan 2014 13:37:58 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Business Intelligence]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=9493</guid>
		<description><![CDATA[<p>Before we can attempt a Marimekko, we need to understand a few of Tableau&#8217;s lesser used tools. The first of these is the Polygon mark type which can be selected from the dropdown on the marks card. Since the Marimekko is actually made up of lots of x-y (Cartesian) coordinates we need to join the [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-1-polygons-paths-custom-sql/">Marimekko Part 1: Polygons, Paths and Custom SQL</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-1-polygons-paths-custom-sql%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>Before we can attempt a <a href="http://interworks.co.uk/filters/marimekko-in-tableau/">Marimekko</a>, we need to understand a few of Tableau&#8217;s lesser used tools.</p>
<p>The first of these is the Polygon mark type which can be selected from the dropdown on the marks card. Since the Marimekko is actually made up of lots of x-y (Cartesian) coordinates we need to join the dots and colour in the middle, this is what the polygon tool does.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.14.02.png"><img class="aligncenter size-medium wp-image-9496" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.14.02-300x298.png" alt="Screen Shot 2014-01-03 at 14.14.02" width="300" height="298" /></a></p>
<p>Usually when using polygons you have all the data that is necessary e.g. lat/long points on a map which define a boundary. In our case we want to use a single measure value and represent it as a polygon. This will involve replicating the line 4 times (once for each corner). To do this we must use the UNION ALL command in Custom SQL to generate the extra rows of data, we will also be adding a new column called &#8216;Point&#8217; which we will use to define the corners of the polygons.</p>
<p>New Custom SQL; This is found in the data source tab for applicable databases or for files opened with the legacy Connection.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2015-05-22-at-12.10.20.png"><img class="alignnone  wp-image-12343" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2015-05-22-at-12.10.20-300x166.png" alt="Screen Shot 2015-05-22 at 12.10.20" width="178" height="99" /></a></p>
<p style="font-size: 10px;">SELECT [Orders$].[City] AS [City],<br />
[Orders$].[Customer Segment] AS [Customer Segment],<br />
[Orders$].[Product Category] AS [Product Category],<br />
[Orders$].[Product Container] AS [Product Container],<br />
[Orders$].[Sales] AS [Sales],<br />
[Orders$].[Unit Price] AS [Unit Price],<br />
1 AS [Point]<br />
FROM [Orders$]<br />
UNION ALL</p>
<p style="font-size: 10px;">SELECT [Orders$].[City] AS [City],<br />
[Orders$].[Customer Segment] AS [Customer Segment],<br />
[Orders$].[Product Category] AS [Product Category],<br />
[Orders$].[Product Container] AS [Product Container],<br />
[Orders$].[Sales] AS [Sales],<br />
[Orders$].[Unit Price] AS [Unit Price],<br />
2 AS [Point]<br />
FROM [Orders$]<br />
UNION ALL</p>
<p style="font-size: 10px;">SELECT [Orders$].[City] AS [City],<br />
[Orders$].[Customer Segment] AS [Customer Segment],<br />
[Orders$].[Product Category] AS [Product Category],<br />
[Orders$].[Product Container] AS [Product Container],<br />
[Orders$].[Sales] AS [Sales],<br />
[Orders$].[Unit Price] AS [Unit Price],<br />
3 AS [Point]<br />
FROM [Orders$]<br />
UNION ALL</p>
<p style="font-size: 10px;">SELECT [Orders$].[City] AS [City],<br />
[Orders$].[Customer Segment] AS [Customer Segment],<br />
[Orders$].[Product Category] AS [Product Category],<br />
[Orders$].[Product Container] AS [Product Container],<br />
[Orders$].[Sales] AS [Sales],<br />
[Orders$].[Unit Price] AS [Unit Price],<br />
4 AS [Point]<br />
FROM [Orders$]<br />
Once we have our data we will need to make sure that it as we expect. We should have 4 lines of data now for each line in our original dataset. Each of these replicated lines should have a unique point:</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.45.141.png"><img class="alignnone size-large wp-image-9524" src="http://interworks.co.uk/wp-content/uploads/2014/01/Screen-Shot-2014-01-03-at-14.45.141-881x1024.png" alt="Screen Shot 2014-01-03 at 14.45.14" width="881" height="1024" /></a></p>
<p>In &#8216;<a href="http://interworks.co.uk/random/marimekko-part-2-parameters-table-calculations/">Marimekko Part 2</a>&#8216; we will look at Parameters and Table Calculations.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-part-1-polygons-paths-custom-sql/">Marimekko Part 1: Polygons, Paths and Custom SQL</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-part-1-polygons-paths-custom-sql%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-part-1-polygons-paths-custom-sql/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Table Calculations &#8211; Why apply them &#8216;By Cell&#8217;</title>
		<link>http://interworks.co.uk/blog/table-calculations-why-apply-them-by-cell/</link>
		<comments>http://interworks.co.uk/blog/table-calculations-why-apply-them-by-cell/#comments</comments>
		<pubDate>Tue, 09 Jul 2013 08:17:37 +0000</pubDate>
		<dc:creator><![CDATA[Darren Evans]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[InterWorks]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>
		<category><![CDATA[Tableau 8.0]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=8738</guid>
		<description><![CDATA[<p>A question I was recently asked by an in training Tableau User was ‘Why would I apply a table calculation by cell?’. To answer this I have produced a simple example of a by cell Table Calculation. Before I get to it I would like to run through some Table Calculation basics. Calculation Direction One [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/table-calculations-why-apply-them-by-cell/">Table Calculations &#8211; Why apply them &#8216;By Cell&#8217;</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Ftable-calculations-why-apply-them-by-cell%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>A question I was recently asked by an in training Tableau User was ‘Why would I apply a table calculation by cell?’. To answer this I have produced a simple example of a by cell Table Calculation. Before I get to it I would like to run through some Table Calculation basics.</p>
<p><strong>Calculation Direction</strong></p>
<p>One of the key principles in Table Calculations is the direction of the calculation. Consider the following table which shows the ‘Running Sum’ table calculation running ‘Table Across’:</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2013/07/Across.png"><img class="alignnone size-medium wp-image-8743" src="http://interworks.co.uk/wp-content/uploads/2013/07/Across-300x170.png" alt="Across" width="300" height="170" /></a></p>
<p>As you can see this running sum is running horizontally left to right and restarting on each row.</p>
<p>If you ran the calculation again, this time &#8216;Table Down&#8217; the calculation would work vertically down the table restarting for each column.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2013/07/Down.png"><img class="alignnone size-medium wp-image-8742" src="http://interworks.co.uk/wp-content/uploads/2013/07/Down-300x169.png" alt="Down" width="300" height="169" /></a></p>
<p>&#8216;Across then down&#8217; runs first horizontally and then carries the result to the next row running against the entire table:</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2013/07/Across-Then-Down.png"><img class="alignnone size-medium wp-image-8741" src="http://interworks.co.uk/wp-content/uploads/2013/07/Across-Then-Down-300x171.png" alt="Across Then Down" width="300" height="171" /></a></p>
<p>Down then across runs vertically but carries the result to the next column of data, working across the whole table.</p>
<p><a href="http://interworks.co.uk/wp-content/uploads/2013/07/Down-then-across.png"><img class="alignnone size-medium wp-image-8740" src="http://interworks.co.uk/wp-content/uploads/2013/07/Down-then-across-300x173.png" alt="Down then across" width="300" height="173" /></a></p>
<p><strong>By Cell</strong></p>
<p>The by cell calculation runs the calculation for a single cell of data (i.e. the lowest level of granularity in the view) Consider the following example:<br />
<script src="http://public.tableausoftware.com/javascripts/api/viz_v1.js" type="text/javascript"></script></p>
<div class="tableauPlaceholder" style="width: 604px; height: 595px;"><noscript><a href="#"><img alt=" " src="http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;By&#47;ByCell&#47;Acrossthendown_1&#47;1_rss.png" style="border: none" /></a></noscript><object class="tableauViz" style="display: none;" width="604" height="595"><param name="host_url" value="http%3A%2F%2Fpublic.tableausoftware.com%2F" /><param name="site_root" value="" /><param name="name" value="ByCell/Acrossthendown_1" /><param name="tabs" value="yes" /><param name="toolbar" value="yes" /><param name="static_image" value="http://public.tableausoftware.com/static/images/By/ByCell/Acrossthendown_1/1.png" /><param name="animate_transition" value="yes" /><param name="display_static_image" value="yes" /><param name="display_spinner" value="yes" /><param name="display_overlay" value="yes" /><param name="display_count" value="yes" /></object></div>
<div style="width: 604px; height: 22px; padding: 0px 10px 0px 0px; color: black; font: normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="float: right; padding-right: 8px;"><a href="http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/views/ByCell/Acrossthendown_1" target="_blank">Learn About Tableau</a></div>
</div>
<p>This chart shows Sales broken down by product type and market. I have applied ‘Type’ to the colour of the chart and set up my table calculation as percentage of total.</p>
<p>What I would like to see is the % split between decaf and regular sales for each Product Type and Market.</p>
<p>By default this calculation has been applied as &#8216;Table Across&#8217; so each colour split is the % of the total for the entire row of data.</p>
<p>If I want to see the split value for each cell I need to set the calculation to run ‘By Cell’. Click &#8216;By Cell&#8217; to see this calculation in action.</p>
<p>Now you can see that each cell of data has a total of 100% showing the split between Decaf and Regular drink sales.</p>
<p>Any questions at all, please don&#8217;t hesitate to get in touch. We love a challenge!</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/table-calculations-why-apply-them-by-cell/">Table Calculations &#8211; Why apply them &#8216;By Cell&#8217;</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Ftable-calculations-why-apply-them-by-cell%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/table-calculations-why-apply-them-by-cell/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>Marimekko in Tableau</title>
		<link>http://interworks.co.uk/blog/marimekko-in-tableau/</link>
		<comments>http://interworks.co.uk/blog/marimekko-in-tableau/#comments</comments>
		<pubDate>Mon, 01 Jul 2013 15:03:38 +0000</pubDate>
		<dc:creator><![CDATA[Rob Austin]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Dual Axis]]></category>
		<category><![CDATA[Filters]]></category>
		<category><![CDATA[Marimekko]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://interworks.co.uk/?p=8664</guid>
		<description><![CDATA[<p>This Marimekko chart was fun to get right. There are some great examples of complex table calculations built in to it. The use case is similar to that of a series of stacked bars. It has graphical similarities to a treemap but it lacks the visual superiority when dealing with large numbers of members; however [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-in-tableau/">Marimekko in Tableau</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-in-tableau%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>This Marimekko chart was fun to get right. There are some great examples of complex table calculations built in to it.</p>
<p>The use case is similar to that of a series of stacked bars. It has graphical similarities to a treemap but it lacks the visual superiority when dealing with large numbers of members; however it does have the advantage of defining the positions on the x-axis, hence it is more structured and can be more useful than a treemap or stacked bars in this respect.</p>
<p><script type='text/javascript' src='http://public.tableausoftware.com/javascripts/api/viz_v1.js'></script>
<div class='tableauPlaceholder' style='width: 604px; height: 669px;'><noscript><a href='#'><img alt='Marimekko Chart ' src='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;XK&#47;XKYSHFSJ4&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='604' height='669' style='display:none;'><param name='host_url' value='http%3A%2F%2Fpublic.tableausoftware.com%2F' /><param name='path' value='shared&#47;XKYSHFSJ4' / ><param name='toolbar' value='yes' /><param name='static_image' value='http:&#47;&#47;public.tableausoftware.com&#47;static&#47;images&#47;XK&#47;XKYSHFSJ4&#47;1.png' / ><param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>
<div style='width:604px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'>
<div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=http://public.tableausoftware.com/shared/XKYSHFSJ4' target='_blank'>Learn About Tableau</a></div>
</div>
<div class="shortcode-manager"></div>
<p>To read the chart think of it as being a stacked bar chart where the colours (y dimensions) show the split within each of the vertical bars. The width of the bars represents the overall share of the x dimension. Try Changing the x and y dimensions to see what happens.</p>
<p>One would typically use this type of chart when dealing with data which has 3-12 different members in a few different dimensions. It is great for seeing where the overlaps are. When trying to to this type of analysis with other chart types you will either get an impression of the results without easy detail (e.g. stacked bar / heat map) or you will get the detail without a real overview (e.g. scatter plot). The Marimekko chart gives a really nice compromise in the middle.</p>
<p>I have added a 5 part blog on the building of this useful chart type in Tableau:</p>
<p><a href="http://interworks.co.uk/random/marimekko-part-1-polygons-paths-custom-sql/">Part 1: Polygons, Paths and Custom SQL</a> contains information on data preparation and the methods used to build.<br />
<a href="http://interworks.co.uk/random/marimekko-part-2-parameters-table-calculations/">Part 2: Parameters and Table Calculations</a> introduces some good ideas for flexible charting and the use of table calculated fields. Here we use a variable width stacked bar chart as a simple kind of Mekko.<br />
<a href="http://interworks.co.uk/random/marimekko-part-3-table-calculations/">Part 3: Table calculations</a> delves deeper in to the table calcs needed to create a Mekko and shows what the data looks like.<br />
<a href="http://interworks.co.uk/random/marimekko-part-4-basic-marimekko/">Part 4: Basic Marimekko</a> is our first go at creating the Marimekko.<br />
<a href="http://interworks.co.uk/random/marimekko-part-5-totals/">Part 5: Totals</a> is where we add in the optional extras such as total bars which help the viewer understand the visualisation. We also look at a method to avoid the need for data densification.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/marimekko-in-tableau/">Marimekko in Tableau</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fmarimekko-in-tableau%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/marimekko-in-tableau/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Groundwork for Custom Table Calculations</title>
		<link>http://interworks.co.uk/blog/groundwork-for-custom-table-calculations/</link>
		<comments>http://interworks.co.uk/blog/groundwork-for-custom-table-calculations/#comments</comments>
		<pubDate>Mon, 21 Nov 2011 02:00:06 +0000</pubDate>
		<dc:creator><![CDATA[Joe Mako]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Joe Mako]]></category>
		<category><![CDATA[Table Calculation]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://www.interworks.co.uk/?p=2846</guid>
		<description><![CDATA[<p>Custom Table Calculations is one of the most advanced concepts in Tableau. The main resources Tableau provides can be found at On-Demand Training &#8211; Table Calculations (requires sign in) and Top 10 Tableau Table Calculations where you can find a variety of examples and a white paper with additional details. The capability of custom table calculations goes beyond the information provided in [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/groundwork-for-custom-table-calculations/">Groundwork for Custom Table Calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fgroundwork-for-custom-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>Custom Table Calculations is one of the most advanced concepts in Tableau. The main resources Tableau provides can be found at <a title="On-Demand Training - Table Calculations" href="http://www.tableau.com/learn/tutorials/on-demand/intro-table-calculations" target="_blank">On-Demand Training &#8211; Table Calculations</a> (requires sign in) and <a title="Top 10 Tableau Table Calculations" href="http://www.tableausoftware.com/table-calculations">Top 10 Tableau Table Calculations</a> where you can find a variety of examples and a <a title="white paper on Table Calculations" href="http://www.tableausoftware.com/sites/default/files/pages/table_calcs_in_tableau_6.pdf">white paper</a> with additional details. The capability of custom table calculations goes beyond the information provided in those resources, and there are many factors not covered in them that impact the evaluation of table calculations. They also have limitations, and can have better or worse performance depending on how they are written. This will be a series of posts covering concepts that will remove the guesswork and enable you to employ table calculations so you can create amazing visualizations and dynamic interactive views that apply the business logic and calculations you want.</p>
<p>This post will cover the difference between kinds of pills (discrete vs. continuous and dimension vs. aggregate), a worksheet layout to assist in troubleshooting your formulas, the TOTAL() function, and a basic Compute using setting. Future posts will cover topics including sorting multiple levels of dimensions (with and without a Set), including Advanced Compute using with Restarting every and at the level, the effects of a cross-tab, filtering order of operations, performance, nesting, offset, each of the table calculation functions (and their specific options in the Edit Table Calculation dialog and context menu), and maybe some other related topics as well (like data blending, custom SQL and pass-through functions). I hope to make this good resource by sharing the understanding that I have gained from trial and error, conversations with other Tableau experts and learning from their work, and experience from the Tableau Forums. If you have specific questions about how to get a result that you are looking for, I recommend starting a new thread on the Tableau forum and provide at least a sample data set.</p>
<p><strong>Kinds of pills</strong></p>
<p><a title="Tom Brown's Google+" href="https://plus.google.com/108296725383510328518">Tom Brown</a> of <a title="The Information Lab" href="http://theinformationlab.co.uk/">The Information Lab</a>, wrote a great post on <a title="Blue things and Green things" href="http://theinformationlab.co.uk/blog/2011/9/23/blue-things-and-green-things.html">&#8220;Blue things and Green things&#8221;</a>. This is an important distinction to be aware of, and the effects that Tom discusses in nice detail. I would like to build on Tom&#8217;s work, and discuss finer distinctions: Discrete vs. Continuous and Dimension vs. Aggregate.</p>
<p>Discrete pills are Blue and Continuous pills are Green. This distinction visibly affects the display of the data and some dialog boxes.</p>
<p style="padding-left: 30px;">- On the Rows and Columns shelves, Discrete Blue pills make Cells and Panes, and Continuous Green pills make an Axis.</p>
<p style="padding-left: 30px;">- On the color shelf, Discrete Blue pills provide a categorical color palette picker and legend, and Continuous Green pills provide a gradient color palette picker and legend.</p>
<p style="padding-left: 30px;">- On the filter shelf Discrete Blue pills provide a multi-select keep/exclude and conditional filter options, and Continuous Green pills provide range based filter options.</p>
<p>There are a variety of other situations where the pill being pill being Discrete or Continuous has an effect.</p>
<p>Dimension vs. Aggregate pills provide visual clues in the text displayed in the pill, as seen in this image:</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/ContinuousDiscrete_DimensionAggregate.png"><img class="aligncenter size-full wp-image-2900" title="Continuous v.s. Discrete and Dimension v.s. Aggregate" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/ContinuousDiscrete_DimensionAggregate.png" alt="Continuous v.s. Discrete and Dimension v.s. Aggregate" width="525" height="169" /></a></p>
<p>Commonly pills are Discrete Dimensions and Continuous Aggregates, but you can also have Discrete Aggregate and Continuous Dimension pills.</p>
<p>The combination of Dimension pills (non-aggregated Green or Blue pills) on the Rows, Columns and Marks cards defines what creates a mark in the view. Each distinct combination of values in these Dimension pills creates a mark in a pane. Dimension pills are the fields in the GROUP BY clause of the query sent to the data source.</p>
<p>Being aware of these Discrete vs. Continuous and Dimension vs. Aggregate distinctions is very important for understanding Table Calculations and other useful capabilities of Tableau.</p>
<p><strong>The Custom Table Calculation TOTAL()</strong></p>
<p>I have decided to start with the TOTAL() function because it is very similar to the Subtotals and Grand Totals. Also, if you have ever used the Quick Table Calculation &#8220;Percent of Total&#8221;, you have used the TOTAL() function.</p>
<p>Let&#8217;s start with the &#8220;Sample &#8211; Coffee Chain (Access)&#8221; data source that comes with Tableau, and place the fields &#8220;Market&#8221; and &#8220;Product&#8221; on the Rows shelf. Both these pills default to being Discrete Dimension pills (non-aggregated Blue pills). With Market on the left and Product on the right side, each distinct value in Market is creating a Pane, and each distinct combination of Market and Product is creating a Cell. Next, place the field &#8220;Sales&#8221; on the Text shelf that is on the Marks card. We now have the Sum of Sales for each distinct combination of Market and Product. We have just one mark per cell because we do not have any Dimension pills on the Marks card.</p>
<p>Since we have a Dimension pill on the Rows shelf, Market, that is creating panes, we can bring up that pill&#8217;s right-click context menu, and turn on Subtotals. You cannot turn on Subtotals for the right-most discrete pill. Additionally to be able to turn on Subtotals, the pill and all pills to the left need to be discrete dimensions, you can have discrete aggregates creating cells (this can happen when you have a dimension on the Marks card).</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/TurningOnSubtotals.png"><img class="aligncenter size-full wp-image-2901" title="Turning On Subtotals" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/TurningOnSubtotals.png" alt="Turning On Subtotals" width="544" height="355" /></a></p>
<p>Next, from the main menu select, Table-&gt;Column Grand Totals. You can turn on Column Grand Totals as long as you do not have any Discrete Aggregation pills on the Columns shelf.</p>
<p>Now we can see each Product&#8217;s Sales within each Market, the Total Sales for all Products within each Market, and the Total Sales for all combinations of Product and Market.</p>
<p>To get a Percent of Total, bring up the right-click context menu for the pill SUM(Sales) on the Text Shelf, and select Quick Table Calculation-&gt;Percent of Total</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/SettingPercentOfTotal.png"><img class="aligncenter size-full wp-image-2903" title="Setting Percent of Total" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/SettingPercentOfTotal.png" alt="Setting Percent of Total" width="436" height="345" /></a></p>
<p>Let&#8217;s investigate this formula we just created by again bringing up the right-click context menu for the pill SUM(Sales) on the Text Shelf, notice that it now has a triangle-delta symbol to note that it is a table calculation, and selecting Edit Table Calculation, and clicking the Customize button (we will come back to this dialog in more detail in another post), to get this formula:</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/PercentOfTotalFormula.png"><img class="aligncenter size-full wp-image-2906" title="Percent of Total Formula" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/PercentOfTotalFormula.png" alt="Percent of Total Formula" width="360" height="120" /></a></p>
<p>We can break this formula down to a numerator: SUM([Sales]) and denominator: TOTAL(SUM([Sales])). Let bring those out as two separate pills. First, create a calculated field for the denominator:</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/TotalSumOfSales.png"><img class="aligncenter size-full wp-image-2907" title="Total Sum of Sales" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/TotalSumOfSales.png" alt="Total Sum of Sales" width="360" height="120" /></a></p>
<p>and drop it onto the view using the &#8220;Show Me&#8221; drop feature that turns on the Measure Names/Values pills.</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/ShowMeDrop.png"><img class="aligncenter size-full wp-image-2909" title="Show Me Drop" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/ShowMeDrop.png" alt="Show Me Drop" width="277" height="275" /></a></p>
<p>Then place the field &#8220;Sales&#8221; on the Measure Values shelf as well, and arrange as shown:</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/MeasureValuesShelf.png"><img class="aligncenter size-full wp-image-2910" title="Measure Values Shelf" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/MeasureValuesShelf.png" alt="Measure Values Shelf" width="162" height="113" /></a></p>
<p>This is the worksheet layout that I prefer, Dimension pills on the Rows shelf, Measure Names on the Columns, Measure Values on the Text, and all the aggregations and table calculations on the Measure Values shelf. The result is my preferred worksheet layout for building and troubleshooting table calculations:</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/SetupView.png"><img class="aligncenter size-full wp-image-2912" title="Setup View" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/SetupView.png" alt="Setup View" width="550" height="475" /></a></p>
<p>With this view, we can see the numerator and denominator for each cell, and see that TOTAL(SUM([Sales])) is the same value as the Grand Total (all the way at the bottom). This is because the compute using is currently set to &#8220;Table (Down)&#8221;, so it is the sum of Sales for all combinations of Market and Product. In order to get the value for the pill Total Sum of Sales to match each Market&#8217;s Subtotal, we need to set the Compute using for the pill. From Total Sum of Sales&#8217; right-click context menu, select Compute using-&gt;Product. Perform the same setting change for the table calculation pill SUM(Sales) as well to get all the numbers to match up.</p>
<p><a href="http://www.interworks.co.uk/wp-content/uploads/2011/11/ComputeUsingProduct.png"><img class="aligncenter size-full wp-image-2914" title="Compute Using Product" src="http://www.interworks.co.uk/wp-content/uploads/2011/11/ComputeUsingProduct.png" alt="Compute Using Product" width="530" height="254" /></a></p>
<p>When we set the Compute using to Product, we are telling it to use Product for addressing, and all other dimension pills for partitioning. In this exact situation with the TOTAL() function and worksheet layout, I would say: We are calculating the total sum of Sales for each Market regardless of each Product, and then making that value available to each Market-Product combination. There are a variety of other ways to phrase this so that it makes sense to you. The gist of the TOTAL() function is it makes a Subtotal or Grand Total value available to all dimension combinations based on the Compute using settings.</p>
<p>That wraps up this post covering the different kinds of pills (discrete vs. continuous and dimension vs. aggregate), a worksheet layout that I prefer for crafting calculations, the TOTAL() function, and a simple Compute using setting. You are welcome to post your questions the topics I have covered here, and I will cover more table calculation content in upcoming posts.</p>
<p>&nbsp;</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/groundwork-for-custom-table-calculations/">Groundwork for Custom Table Calculations</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fgroundwork-for-custom-table-calculations%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/groundwork-for-custom-table-calculations/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
	</channel>
</rss>
