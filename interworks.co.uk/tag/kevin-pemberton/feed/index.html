<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>InterWorks - Tableau Software &#38; Business Intelligence Consulting &#187; Kevin Pemberton</title>
	<atom:link href="http://interworks.co.uk/tag/kevin-pemberton/feed/" rel="self" type="application/rss+xml" />
	<link>http://interworks.co.uk/</link>
	<description>InterWorks - Tableau Software &#38; Business Intelligence Consulting</description>
	<lastBuildDate>Fri, 26 Jun 2015 08:09:24 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	
	<item>
		<title>UK Weather &#8211; 140 years visualised!</title>
		<link>http://interworks.co.uk/blog/uk-weather-140-years-visualised/</link>
		<comments>http://interworks.co.uk/blog/uk-weather-140-years-visualised/#comments</comments>
		<pubDate>Mon, 29 Nov 2010 11:51:05 +0000</pubDate>
		<dc:creator><![CDATA[Kevin Pemberton]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Calculated Fields]]></category>
		<category><![CDATA[Current Affairs]]></category>
		<category><![CDATA[Kevin Pemberton]]></category>
		<category><![CDATA[Tableau]]></category>

		<guid isPermaLink="false">http://www.interworks.co.uk/?p=1729</guid>
		<description><![CDATA[<p>With our interesting November weather it couldn&#8217;t be a better time to look at how our weather has changed in the last 140 years&#8230;the results may surprise you. UK Weather Data Powered by Tableau</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/uk-weather-140-years-visualised/">UK Weather &#8211; 140 years visualised!</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fuk-weather-140-years-visualised%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>With our interesting November weather it couldn&#8217;t be a better time to look at how our weather has changed in the last 140 years&#8230;the results may surprise you.</p>
<p><script src="http://public.tableausoftware.com/javascripts/api/viz_v1.js" type="text/javascript"></script><object class="tableauViz" style="display: none;" width="654" height="995"><param name="name" value="UKWeatherdataforthelast140years/UKWeatherData" /><param name="toolbar" value="no" /><param name="tabs" value="yes" /></object><noscript>UK Weather Data<br />
<a href="#"><img alt="UK Weather Data " src="http://public.tableausoftware.com/static/images/UK/UKWeatherdataforthelast140years/UKWeatherData/1_rss.png" height="100%" /></a></noscript></p>
<div style="width: 654px; height: 22px; padding: 0px 10px 0px 0px; color: black; font: normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="float: right; padding-right: 8px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/UKWeatherdataforthelast140years/UKWeatherData" target="_blank">Powered by Tableau</a></div>
</div>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/uk-weather-140-years-visualised/">UK Weather &#8211; 140 years visualised!</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Fuk-weather-140-years-visualised%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/uk-weather-140-years-visualised/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Range Filter on a text dimension</title>
		<link>http://interworks.co.uk/blog/range-filtering-of-non-numerical-or-non-standard-date-dimensions/</link>
		<comments>http://interworks.co.uk/blog/range-filtering-of-non-numerical-or-non-standard-date-dimensions/#comments</comments>
		<pubDate>Mon, 29 Nov 2010 09:00:31 +0000</pubDate>
		<dc:creator><![CDATA[Kevin Pemberton]]></dc:creator>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Calculated Fields]]></category>
		<category><![CDATA[Filters]]></category>
		<category><![CDATA[Kevin Pemberton]]></category>
		<category><![CDATA[Parameters]]></category>
		<category><![CDATA[Tableau]]></category>
		<category><![CDATA[The Data Studio]]></category>

		<guid isPermaLink="false">http://www.interworks.co.uk/?p=1673</guid>
		<description><![CDATA[<p>Tableau provides many types of filter including range filters for dates and numerical data, but what of textual dimensions? For instance lets say we have a dimension with data in the following format, 3-digit months with a 2-digit year and a period used by the client to adjust the year end balance: Period Sales Jan-10 [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/range-filtering-of-non-numerical-or-non-standard-date-dimensions/">Range Filter on a text dimension</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Frange-filtering-of-non-numerical-or-non-standard-date-dimensions%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></description>
				<content:encoded><![CDATA[<p>Tableau provides many types of filter including range filters for dates and numerical data, but what of textual dimensions? For instance lets say we have a dimension with data in the following format, 3-digit months with a 2-digit year and a period used by the client to adjust the year end balance:</p>
<table width="150px">
<tbody>
<tr>
<td>Period</td>
<td>Sales</td>
</tr>
<tr>
<td>Jan-10</td>
<td>129</td>
</tr>
<tr>
<td>Feb-10</td>
<td>185</td>
</tr>
<tr>
<td>Mar-10</td>
<td>89</td>
</tr>
<tr>
<td>Apr-10</td>
<td>124</td>
</tr>
<tr>
<td>Adj-10</td>
<td>23</td>
</tr>
<tr>
<td>May-10</td>
<td>156</td>
</tr>
</tbody>
</table>
<p>This is a date based range of values, however the dates do not conform to any of the built-in date formats Tableau uses. The below visualisation demonstrates the result that we want:</p>
<p><script src="http://public.tableausoftware.com/javascripts/api/viz_v1.js" type="text/javascript"></script><object class="tableauViz" style="display: none;" width="604" height="400"><param name="name" value="Rangefilteronstrings/Rangefilteronstrings" /><param name="toolbar" value="no" /><param name="tabs" value="no" /></object><noscript>Range filter on strings<br />
<a href="#"><img alt="Range filter on strings " src="http://public.tableausoftware.com/static/images/Ra/Rangefilteronstrings/Rangefilteronstrings/1_rss.png" height="100%" /></a></noscript></p>
<div style="width: 604px; height: 22px; padding: 0px 10px 0px 0px; color: black; font: normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="float: right; padding-right: 8px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/Rangefilteronstrings/Rangefilteronstrings" target="_blank">Powered by Tableau</a></div>
</div>
<p>&nbsp;</p>
<p>So how do this work? The first requirement is Tableau version 6 as we are using parameters to select the start and end of the range.</p>
<p><strong>Step 1) Download the data file and create a new workbook in Tableau connected to this data</strong></p>
<p>Download from here <a href="http://www.interworks.co.uk/wp-content/uploads/2010/11/RangeData.xlsx" target="_blank">Range Data</a></p>
<p><strong>Step 2) Add two parameters to the sheet</strong></p>
<p>Right-click the dimension you want to provide a range filter on (in this case Period) and select Create Parameter. Call these &#8220;StartPeriod&#8221; and &#8220;EndPeriod&#8221;<br />
<strong><br />
<img class="aligncenter size-full wp-image-1708" title="Create_parameter" src="http://www.interworks.co.uk/wp-content/uploads/2010/11/Create_parameter.png" alt="" width="269" height="343" /></strong></p>
<p>Step 3) Create a calculated field</p>
<p><img class="aligncenter size-full wp-image-1707" title="Create_calculated_field" src="http://www.interworks.co.uk/wp-content/uploads/2010/11/Create_calculated_field.png" alt="" width="264" height="311" /></p>
<p>This field is a string containing all of the values that the dimension will contain (this bit is the long-winded bit, and if your dimension data changes you need to update this field also.) In this example the string would read:</p>
<p>&#8220;Jan-10Feb-10Mar-10Apr-10Adj-10May-10Jun-10Jul-10Aug-10Sep-10Oct-10Nov-10Dec-10&#8243;</p>
<p>call the field &#8220;Range_Periods&#8221;.</p>
<p><strong>Step 4) Add another calculated field</strong></p>
<p>Call it &#8220;Range_Filtered_Period&#8221;. This generates the field we will use on the filter shelf. The syntax for this field is:</p>
<p><em>CONTAINS(MID([Range_Periods],FIND([Range_Periods],[StartPeriod]),ABS(FIND([Range_Periods],[EndPeriod])-FIND([Range_Periods],[StartPeriod]))+6),[Period])</em></p>
<p>This line of code searches the Range_Periods string (using the FIND function) for the [StartPeriod] selected, for instance &#8220;Feb-10&#8243; would return the number 6.<br />
It then uses the FIND function again to find the [EndPeriod],  e.g. &#8220;Adj-10&#8243; would return 24, we then add 6 (the length of each data item in the dimension) to this to find the end of the selected [EndPeriod].</p>
<p>We can then use these two numbers to remove all of the periods we don&#8217;t want from the [Range_Periods] string, to do this we use MID by providing the [Range_Periods] string and the two number from the FIND functions.</p>
<p>This gives us the string &#8220;Feb-10Mar-10Apr-10Adj-10&#8243;</p>
<p>Lastly we use CONTAINS, this function takes a string to search through, in this case our new [Range_Periods] string, and a substring to search for, our [Period] dimension.</p>
<p><strong>Step 5) Add this new calculated field to the filter shelf</strong></p>
<p><img class="aligncenter size-full wp-image-1710" title="Add_to_filter_shelf" src="http://www.interworks.co.uk/wp-content/uploads/2010/11/Add_to_filter_shelf.png" alt="" width="185" height="77" /></p>
<p>Add [Range_Filtered_Period] to the filter shelf and select &#8220;True&#8221; when the filter dialog box pops up.</p>
<p><strong>Step 6) Have a play with the StartPeriod and EndPeriod parameters </strong></p>
<p>See how it filters the visualisation.</p>
<p><strong>Bonus point</strong></p>
<p>The only issue with our current code is that it does not take into account that a user may select a [StartPeriod] that is later than the [EndPeriod], so edit the calculated field and replace the code with the below:</p>
<p><em>CONTAINS(</em></p>
<p><em> IF FIND([Range_Periods],[EndPeriod])&gt;FIND([Range_Periods],[StartPeriod]) THEN<br />
MID([Range_Periods],FIND([Range_Periods],[StartPeriod]),ABS(FIND([Range_Periods],[EndPeriod])-FIND([Range_Periods],[StartPeriod]))+6)<br />
ELSE<br />
MID([Range_Periods],FIND([Range_Periods],[EndPeriod]),ABS(FIND([Range_Periods],[EndPeriod])-FIND([Range_Periods],[StartPeriod]))+6)<br />
END<br />
,[Period])</em></p>
<p>This adds in logic to check for this situation.</p>
<p><strong>Summary</strong></p>
<p>This range filter works well on any data that is sequential, it could be date periods, letters in the alphabet or any string. You just have to ensure that the data is sequential and that there are no breaks or out of sequence data items. You also need to have a dimension field where the data items are all of the same length, in the above example 6 characters long.</p>
<p>Check back soon where I will be building in AND, OR, BETWEEN, NOT and other types of operators to this concept.</p>
<p>The post <a rel="nofollow" href="http://interworks.co.uk/blog/range-filtering-of-non-numerical-or-non-standard-date-dimensions/">Range Filter on a text dimension</a> appeared first on <a rel="nofollow" href="http://interworks.co.uk/">InterWorks - Tableau Software &amp; Business Intelligence Consulting</a>.</p>
<img src="http://track.hubspot.com/__ptq.gif?a=502772&k=14&bu=http%3A%2F%2Finterworks.co.uk%2Fblog%2F&r=http%3A%2F%2Finterworks.co.uk%2Fblog%2Frange-filtering-of-non-numerical-or-non-standard-date-dimensions%2F&bvt=rss&p=wordpress" style="float:left;" xml:base="http://interworks.co.uk/feed/" width="1" height="1" border="0" align="right"/>]]></content:encoded>
			<wfw:commentRss>http://interworks.co.uk/blog/range-filtering-of-non-numerical-or-non-standard-date-dimensions/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
